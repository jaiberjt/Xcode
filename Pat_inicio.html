<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Helios S.A. - Sistema de Gestión</title>
  <link rel="stylesheet" href="Diseño.css"> <!-- Enlace al archivo CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">

</head>
<body>
  
  <!-- Menú lateral -->
  <nav class="menu-lateral">
    <h2>Pinturas Helios S.A</h2>
    <a href="#" data-seccion="soporte">Soporte Técnico y Mantenimiento</a>
    <a href="#" data-seccion="proveedores">Gestión de Proveedores</a>
    <a href="#" data-seccion="inventario">Gestión de Inventario</a>
    <a href="#" data-seccion="usuarios">Configuración y Gestión de Usuarios</a>
    <a href="#" data-seccion="pedidos">Pedidos y Despachos</a>
  </nav>

  <!-- Contenido principal -->
  <main class="contenido">

    <!-- Sección: Soporte Técnico -->
    <section id="soporte" class="seccion activa">
      <h2>Soporte Técnico y Mantenimiento</h2>
      
      <!-- Acceso a Documentación y Actualizaciones -->
     
      <!-- Reporte de Problemas -->

<div class="reporte-problema">
  <h3>Reporte de Problemas</h3>
  <form id="formReporte" action="reporte_exito.html" method="POST" onsubmit="guardarReporte(event)">
    <div class="mb-3">
      <label for="descripcion" class="form-label">Descripción del Problema</label>
      <textarea class="form-control" id="descripcion" rows="4" placeholder="Descripción detallada del problema" required></textarea>
    </div>
    <div class="mb-3">
      <label for="fecha" class="form-label">Fecha y Hora de Ocurrencia</label>
      <input type="datetime-local" class="form-control" id="fecha" required>
    </div>
    <div class="mb-3">
      <label for="pantallazo" class="form-label">Pantallazo (si es posible)</label>
      <input type="file" class="form-control" id="pantallazo" accept="image/*">
    </div>
    <div class="mb-3">
      <label for="usuario" class="form-label">Datos del Usuario</label>
      <input type="text" class="form-control" id="usuario" placeholder="Ingresa tu nombre" required>
    </div>
    <button type="submit" class="btn btn-danger">Enviar Reporte</button>
  </form>
</div>

<script>
  function guardarReporte(event) {
    // Detener el comportamiento por defecto del formulario
    event.preventDefault();

    // Guardamos los datos del formulario en el localStorage
    localStorage.setItem('descripcion', document.getElementById('descripcion').value);
    localStorage.setItem('fecha', document.getElementById('fecha').value);
    localStorage.setItem('usuario', document.getElementById('usuario').value);
    
    // Si se sube un pantallazo, guardamos el nombre del archivo
    const pantallazo = document.getElementById('pantallazo').files[0];
    if (pantallazo) {
      localStorage.setItem('pantallazo', pantallazo.name);
    }

    // Redirigimos a la página de confirmación
    window.location.href = 'reporte_exito.html';
  }
</script>


    
  </form>
  
</div>

  
  <div class="documentos">
    <h4>Manuales de Usuario</h4>
    <ul>
      <li><a href="#">Manual de Usuario - Sistema X (PDF)</a></li>
      <li><a href="#">Manual de Usuario - Sistema Y (Word)</a></li>
    </ul>
    <h4>Procedimientos Operativos Estándar (POEs)</h4>
    <ul>
      <li><a href="#">POE de Seguridad Industrial (PDF)</a></li>
      <li><a href="#">POE de Mantenimiento Preventivo (Word)</a></li>
    </ul>
    <h4>Fichas Técnicas</h4>
    <ul>
      <li><a href="#">Ficha Técnica - Producto A (PDF)</a></li>
      <li><a href="#">Ficha Técnica - Producto B (Word)</a></li>
    </ul>
  </div>
  <div class="documentacion"> 
    <div class="search-bar">
      <input type="text" id="buscar-documento" class="form-control" placeholder="Buscar documento...">
      <button class="btn btn-info">Buscar</button>
    </div>
</div>

    </section>

    <!-- Sección: Gestión de Proveedores -->
    <!-- Historial y Seguimiento -->
<!-- Sección: Gestión de Proveedores -->
<section id="proveedores" class="seccion">
  <h2>Gestión de Proveedores</h2>

  <!-- Subsección: Historial y Seguimiento -->
  <div id="historial-seguimiento">
    <h3>Historial y Seguimiento</h3>
    <label for="filtro" class="form-label">Filtrar por proveedor:</label>
    <input type="text" id="filtro" class="form-control" placeholder="Buscar proveedor">
    
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>Fecha de Recepción</th>
          <th>Proveedor</th>
          <th>Cantidad</th>
          <th>Calidad</th>
          <th>Ubicación</th>
          <th>Número de Lote</th>
          <th>Registrado por</th>
        </tr>
      </thead>
      <tbody id="tabla-historial">
        <!-- Aquí se insertarán las filas dinámicamente -->
      </tbody>
    </table>
  </div>

  <!-- Subsección: Registro de Nuevos Proveedores -->
  <div id="registro-proveedor">
    <h3>Registro de Nuevos Proveedores</h3>
    <form id="form-proveedor">
      <label for="nombre" class="form-label">Nombre:</label>
      <input type="text" id="nombre" class="form-control" placeholder="Nombre del proveedor" required>

      <label for="direccion" class="form-label">Dirección:</label>
      <input type="text" id="direccion" class="form-control" placeholder="Dirección del proveedor" required>

      <label for="telefono" class="form-label">Teléfono:</label>
      <input type="tel" id="telefono" class="form-control" placeholder="Teléfono del proveedor" required>

      <label for="correo" class="form-label">Correo Electrónico:</label>
      <input type="email" id="correo" class="form-control" placeholder="Correo del proveedor" required>

      <label for="productos" class="form-label">Productos que suministra:</label>
      <textarea id="productos" class="form-control" rows="3" placeholder="Lista de productos que suministra" required></textarea>

      <label for="condiciones" class="form-label">Condiciones comerciales:</label>
      <textarea id="condiciones" class="form-control" rows="3" placeholder="Condiciones comerciales" required></textarea>

      <button type="submit" class="btn btn-primary">Registrar Proveedor</button>
    </form>
  </div>
</section>

<section id="inventario" class="seccion">
  <!-- Formulario de Registro de Productos -->
<form action="procesar_producto.php" method="POST">
  <label for="codigo">Código de Producto:</label>
  <input type="text" id="codigo" name="codigo" required><br><br>
  
  <label for="descripcion">Descripción:</label>
  <input type="text" id="descripcion" name="descripcion" required><br><br>

  <label for="proveedor">Proveedor:</label>
  <input type="text" id="proveedor" name="proveedor" required><br><br>

  <label for="unidad_medida">Unidad de Medida:</label>
  <input type="text" id="unidad_medida" name="unidad_medida" required><br><br>

  <label for="especificaciones">Especificaciones Técnicas:</label>
  <textarea id="especificaciones" name="especificaciones" rows="4" required></textarea><br><br>

  <label for="hoja_seguridad">Hoja de Seguridad (URL):</label>
  <input type="url" id="hoja_seguridad" name="hoja_seguridad" required><br><br>

  <button type="submit">Registrar Producto</button>
</form>
<!-- Tabla Editable para Actualización de Existencias -->
<table id="tabla_existencias">
  <thead>
    <tr>
      <th>Producto</th>
      <th>Cantidad en Stock</th>
      <th>Ubicación</th>
      <th>Fecha de Vencimiento</th>
    </tr>
  </thead>
  <tbody>
    <!-- Ejemplo de fila editable -->
    <tr>
      <td><input type="text" value="Pintura Roja" disabled></td>
      <td><input type="number" value="50" onchange="verificarStock(this)"></td>
      <td><input type="text" value="Estante 1"></td>
      <td><input type="date" value="2025-12-31"></td>
    </tr>
  </tbody>
</table>

<script>
  function verificarStock(input) {
    const stock = input.value;
    if (stock < 10) {
      alert("¡Stock bajo! Considera realizar un pedido.");
    }
  }
</script>

</section>



</script>

 <!-- Sección: Configuración y Gestión de Usuarios -->
    <section id="usuarios" class="seccion">
      <h2>Configuración y Gestión de Usuarios</h2>
      <!-- Panel de Administración de Usuarios -->
<div class="panel-admin">
  <h2>Administración de Usuarios</h2>
  
  <form action="gestionar_usuario.php" method="POST">
    <label for="nombre_usuario">Nombre de Usuario:</label>
    <input type="text" id="nombre_usuario" name="nombre_usuario" required><br><br>
    
    <label for="correo_usuario">Correo Electrónico:</label>
    <input type="email" id="correo_usuario" name="correo_usuario" required><br><br>
    
    <label for="contraseña_usuario">Contraseña:</label>
    <input type="password" id="contraseña_usuario" name="contraseña_usuario" required><br><br>
    
    <label for="tipo_usuario">Tipo de Usuario:</label>
    <select id="tipo_usuario" name="tipo_usuario">
      <option value="administrador">Administrador</option>
      <option value="empleado">Empleado</option>
    </select><br><br>

    <button type="submit">Crear o Modificar Usuario</button>
  </form>
  
  <h3>Eliminar Usuario:</h3>
  <form action="eliminar_usuario.php" method="POST">
    <label for="eliminar_usuario">Nombre de Usuario:</label>
    <input type="text" id="eliminar_usuario" name="eliminar_usuario" required><br><br>
    
    <button type="submit">Eliminar Usuario</button>
  </form>
</div>

      <!-- Matriz de Permisos -->
<h2>Matriz de Permisos</h2>
<table id="matriz-permisos">
  <thead>
    <tr>
      <th>Acción</th>
      <th>Administrador</th>
      <th>Empleado</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Registrar Productos</td>
      <td><input type="checkbox" checked disabled></td>
      <td><input type="checkbox"></td>
    </tr>
    <tr>
      <td>Modificar Existencias</td>
      <td><input type="checkbox" checked disabled></td>
      <td><input type="checkbox"></td>
    </tr>
    <tr>
      <td>Generar Reportes</td>
      <td><input type="checkbox" checked disabled></td>
      <td><input type="checkbox"></td>
    </tr>
  </tbody>
</table>

    </section>

    <!-- Sección: Pedidos y Despachos -->
    <section id="pedidos" class="seccion">
      <!-- Generación de Documentos de Despacho -->
<!-- Botón para Generar Documento de Despacho -->
<button class="btn-desplegar" onclick="toggleForm('despacho')">Generar Solicitud de Despacho</button>

<div id="form-despacho" class="formulario-desplegable">
  <h2>Generación de Documento de Despacho</h2>
  <form action="generar_despacho.php" method="POST">
    <label for="proveedor">Proveedor:</label>
    <input type="text" id="proveedor" name="proveedor" required><br><br>
    
    <label for="producto">Producto:</label>
    <input type="text" id="producto" name="producto" required><br><br>
    
    <label for="cantidad">Cantidad:</label>
    <input type="number" id="cantidad" name="cantidad" required><br><br>
    
    <label for="fecha_despacho">Fecha de Despacho:</label>
    <input type="date" id="fecha_despacho" name="fecha_despacho" required><br><br>

    <button type="submit" class="btn-despacho">Generar Documento</button>
  </form>
</div>

<!-- Botón para Solicitar Materia Prima -->
<button class="btn-desplegar" onclick="toggleForm('materia')">Generar Solicitud de Materia Prima</button>

<div id="form-materia" class="formulario-desplegable">
  <h2>Solicitud de Materia Prima</h2>
  <form action="solicitar_materia.php" method="POST">
    <label for="producto_solicitado">Producto:</label>
    <input type="text" id="producto_solicitado" name="producto_solicitado" required><br><br>
    
    <label for="cantidad_solicitada">Cantidad Solicitada:</label>
    <input type="number" id="cantidad_solicitada" name="cantidad_solicitada" required><br><br>
    
    <label for="fecha_entrega">Fecha de Entrega Estimada:</label>
    <input type="date" id="fecha_entrega" name="fecha_entrega" required><br><br>
    
    <label for="departamento">Departamento Solicitante:</label>
    <input type="text" id="departamento" name="departamento" required><br><br>

    <button type="submit" class="btn-solicitar">Enviar Solicitud</button>
  </form>
</div>


    </section>

  </main>

  <script>
    // Manejar el cambio de secciones
    const enlacesMenu = document.querySelectorAll('.menu-lateral a');
    const secciones = document.querySelectorAll('.seccion');

    enlacesMenu.forEach(enlace => {
      enlace.addEventListener('click', (e) => {
        e.preventDefault();
        const seccionActiva = enlace.dataset.seccion;

        // Ocultar todas las secciones
        secciones.forEach(sec => sec.classList.remove('activa'));

        // Mostrar la sección correspondiente
        document.getElementById(seccionActiva).classList.add('activa');
      });
    });
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Datos de prueba para la tabla de historial
    const datosHistorial = [
      {
        fecha: "2025-01-01",
        proveedor: "Proveedor A",
        cantidad: "100 unidades",
        calidad: "Alta",
        ubicacion: "Bodega 1",
        lote: "Lote001",
        registradoPor: "Usuario1",
      },
      {
        fecha: "2025-01-15",
        proveedor: "Proveedor B",
        cantidad: "50 unidades",
        calidad: "Media",
        ubicacion: "Bodega 2",
        lote: "Lote002",
        registradoPor: "Usuario2",
      },
    ];
  
    // Función para llenar la tabla de historial
    const tablaHistorial = document.getElementById("tabla-historial");
    datosHistorial.forEach((dato) => {
      const fila = document.createElement("tr");
      fila.innerHTML = `
        <td>${dato.fecha}</td>
        <td>${dato.proveedor}</td>
        <td>${dato.cantidad}</td>
        <td>${dato.calidad}</td>
        <td>${dato.ubicacion}</td>
        <td>${dato.lote}</td>
        <td>${dato.registradoPor}</td>
      `;
      tablaHistorial.appendChild(fila);
    });
  
    // Manejo del formulario de registro de proveedores
    const formProveedor = document.getElementById("form-proveedor");
    formProveedor.addEventListener("submit", (e) => {
      e.preventDefault();
  
      // Recoger datos del formulario
      const nuevoProveedor = {
        nombre: document.getElementById("nombre").value,
        direccion: document.getElementById("direccion").value,
        telefono: document.getElementById("telefono").value,
        correo: document.getElementById("correo").value,
        productos: document.getElementById("productos").value,
        condiciones: document.getElementById("condiciones").value,
      };
  
      // Guardar en LocalStorage
      let proveedores = JSON.parse(localStorage.getItem("proveedores")) || [];
      proveedores.push(nuevoProveedor);
      localStorage.setItem("proveedores", JSON.stringify(proveedores));
  
      alert("Proveedor registrado con éxito.");
      formProveedor.reset();
    });
   </script>
   <script>
    // Ejecutar solo cuando el DOM esté completamente cargado
    document.addEventListener("DOMContentLoaded", function () {
      // Manejo del formulario de registro de productos
      const formRegistroProducto = document.getElementById("form-registro-producto");
      formRegistroProducto.addEventListener("submit", function (e) {
        e.preventDefault();
  
        const producto = {
          codigo: document.getElementById("codigo-producto").value,
          descripcion: document.getElementById("descripcion").value,
          proveedor: document.getElementById("proveedor").value,
          unidadMedida: document.getElementById("unidad-medida").value,
          especificaciones: document.getElementById("especificaciones").value,
        };
  
        // Guardar en localStorage
        const productos = JSON.parse(localStorage.getItem("productos")) || [];
        productos.push(producto);
        localStorage.setItem("productos", JSON.stringify(productos));
  
        alert("Producto registrado con éxito.");
        formRegistroProducto.reset(); // Reset explícito al formulario
      });
  
      // Datos iniciales
      const existencias = [
        { producto: "Producto A", cantidad: 100, ubicacion: "Zona 1", vencimiento: "2025-01-01" },
        { producto: "Producto B", cantidad: 50, ubicacion: "Zona 2", vencimiento: "2024-12-01" },
      ];
  
      // Renderizar tabla
      function renderTablaExistencias() {
        const tabla = document.getElementById("tabla-existencias");
        tabla.innerHTML = ""; // Asegurar tabla limpia antes de agregar filas
        existencias.forEach((item, index) => {
          const row = `
            <tr>
              <td>${item.producto}</td>
              <td><input type="number" value="${item.cantidad}" class="form-control" /></td>
              <td>${item.ubicacion}</td>
              <td>${item.vencimiento}</td>
              <td><button class="btn btn-success" onclick="guardarCambios(${index})">Guardar</button></td>
            </tr>
          `;
          tabla.innerHTML += row;
        });
      }
  
      // Actualizar cantidad en existencias
      window.guardarCambios = function (index) {
        const cantidad = document.querySelectorAll("#tabla-existencias input")[index].value;
        existencias[index].cantidad = parseInt(cantidad, 10);
        alert("Cantidad actualizada con éxito.");
        renderTablaExistencias(); // Actualiza la tabla después del cambio
      };
  
      // Renderizar la tabla inicial
      renderTablaExistencias();
    });
  </script>


  

  
<!-- Incluir Leaflet.js -->
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script>
  // Función para alternar la visibilidad de los formularios
  function toggleForm(formType) {
    var form = document.getElementById('form-' + formType);
    if (form.style.display === "none" || form.style.display === "") {
      form.style.display = "block";
    } else {
      form.style.display = "none";
    }
  }
</script>





</body>
</html>